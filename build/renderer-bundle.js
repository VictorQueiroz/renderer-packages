!function(t,e){!function(t){function e(){this._events={}}function u(t){return"undefined"==typeof t}e.prototype={on:function(t,e){return this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e),this},off:function(t,e){var u,r=this._events[t];for(u=0;u<r.length;u++)r[u]==e&&r.splice(u,1);return this},emit:function(t){var e,i,n,s=r(arguments).slice(1);if(this._events.hasOwnProperty(t)){for(n=this._events[t],i=new Array(n.length),e=0;e<n.length;e++)i[e]=n[e].apply(this,s);return i.every(function(t){return u(t)?!0:t})}return!0},removeAllListeners:function(){var t,e,u=Object.keys(this._events),r=u.length;for(t=0;r>t;t++)e=u[t],this._events[e]=[]}};var r=function(t){return Array.prototype.slice.call(t)};Array.isArray,t.eventemitter={EventEmitter:e}}(t),!function(){"use strict";function e(t){var e=a(o(t),n);return u(e[1])}function u(t){for(var e=t.split(s),u=[],r=e.length;r--;)e[r].replace(i,function(t,e,i){u[r]=i});return u}function r(t,e){this.path=[],this.cache=e||{},this.pending=t||{}}var i=/^\s*(_?)(\S+?)\1\s*$/,n=/^[^\(]*\(\s*([^\)]*)\)/m,s=/,/,o=function(t){return t.toString()},a=function(t,e){return t.match(e)};r.extractArgs=u,r.extractDeps=e,r.annotate=function(t){return this.extractDeps(t).concat(t)};var h={},c="injector";r.prototype={has:function(t){return this.pending.hasOwnProperty(t)||this.cache.hasOwnProperty(t)},get:function(t){if(t==c)return this;var e=this.path,u=this.cache,r=this.pending;if(u.hasOwnProperty(t)){if(u[t]===h)throw new Error("Circular dependency found: "+t+" <- "+e.join(" <- "));return u[t]}if(!r.hasOwnProperty(t))throw new Error('Service "'+t+'" not found');try{return e.unshift(t),u[t]=h,u[t]=this.invoke(r[t])}catch(i){throw u[t]===h&&delete u[t],i}finally{e.shift()}},invoke:function(t){var u,r;if(Array.isArray(t)){if(u=t,"function"!=typeof(t=t.pop()))throw new Error("The last item of the array must be the service factory")}else u=Array.isArray(t.$inject)?t.$inject:e(t);for(r=u.length;r--;)u[r]=this.get(u[r]);return t.apply(null,u)}},t.injector={Injector:r}}(),!function(e){function u(t){return function(){var e=s(arguments),u=this.blocks[t];return u.push.apply(u,e),this}}function r(t,e){this.blocks={services:[],config:[],run:[]},this.name=t,this.dependencies=e}function i(t){this.loaded=[],this.modules={},this.injector=t}var n=t.injector.Injector,s=function(t){return Array.prototype.slice.call(t)};r.SERVICE="services",r.CONFIG="config",r.RUN="run",r.prototype={service:u("services"),config:u("config"),run:u("run"),boot:function(t){if(this.blocks,t instanceof n!=1)throw new Error("The injector must be an instance of Injector");this.injector=t,this.execute("services")},execute:function(){var t,e,u,r=s(arguments);for(t=r.length-1;t>=0;t--)u=r[t],e={},e[u]=this.blocks[u],e[u]=this._blocks(e);return e},_blocks:function(t){for(var e=Object.keys(t),u=0;u<e.length;u++)this._block(e[u],t[e[u]]);return this},_block:function(t,e){for(var u,i,s=e.length-1;s>=0;s--){if(i=e[s],u=n.extractDeps(i),u.length>0)for(var o,a,h=0;h<u.length;h++)o=u[h],(a=e.indexOf(o))>-1&&(this.injector.pending[e[a]]=e[++a]);switch(t){case r.SERVICE:this.injector.pending[e[--s]]=i;break;default:this.injector.invoke(i)}}}},i.prototype={register:function(t,e){if(e){if(this.modules.hasOwnProperty(t))throw new Error('Error while trying to redefine "'+t+'"');return this.modules[t]=new r(t,e)}if(this.modules.hasOwnProperty(t))return this.modules[t];throw new Error('Module "'+t+'" does not exists')},load:function(t,e){e=e||[];var u,r=t.name,i=t.dependencies;e.push(r),t.boot(this.injector),this.loaded.push(t);for(var n=0;n<i.length;n++){if(!this.modules.hasOwnProperty(i[n]))throw new Error('Module "'+i[n]+'" does not exists as a dependency of "'+r+'"');if(u=this.modules[i[n]],e.indexOf(u.name)>-1)throw new Error("Circular dependency found: "+e.join(" <- ")+" <- "+u.name);this.load(u,e)}e.pop()},bootstrap:function(t){var e,u=this.loaded;this.load(this.register(t));for(var r=u.length-1;r>=0;r--)e=u[r],e.execute("config");for(var r=u.length-1;r>=0;r--)e=u[r],e.execute("run")}};var o={},a={};e.moduleloader=new i(new injector.Injector(o,a)),e.moduleloader.Module=r,e.moduleloader.ModuleLoader=i}(t),!function(t){function e(t,e,r){t.prototype=Object.create(e.prototype),u(r)&&s(t.prototype,r)}function u(t){return null!==t&&"object"==typeof t}function r(t){return Array.prototype.slice.apply(t)}function i(t){return n(t)===!1}function n(t){return"undefined"==typeof t}function s(t){t||(t={});var e,n,s,o,a,h,c,D=r(arguments).slice(1).filter(i),l=D.length;for(h=0;l>h;h++)if((e=D[h])&&u(e))for(s=Object.keys(e),a=s.length,c=0;a>c;c++)o=s[c],n=e[o],t[o]=n;return t}function u(t){return null!==t&&"object"==typeof t}function o(){this._events={}}function a(t){o.call(this),this.routes=t||{},this.current=null,this.preparedRoute=null}Array.isArray||function(t){return u(t)&&t instanceof Array==1},o.prototype={on:function(t,e){return this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e),this},off:function(t,e){var u,r=this._events[t];for(u=0;u<r.length;u++)r[u]==e&&r.splice(u,1);return this},emit:function(t){var e,u,n,s=r(arguments).slice(1);if(this._events.hasOwnProperty(t))for(n=this._events[t],u=new Array(n.length),e=0;e<n.length;e++)u[e]=n[e].apply(this,s);return u&&u.length>0?u.every(function(t){return i(t)?t:!0}):!0},removeAllListeners:function(){var t,e,u,r,i,n=Object.keys(this._events),s=n.length;for(t=0;s>t;t++)for(i=n[t],r=this._events[i],u=r.length,e=0;u>e;e++)r.splice(e,1)}},a.createPathRegExp=function(t,e){e=e||{};var u=e.caseInsensitiveMatch,r={originalPath:t,regexp:t},i=r.params=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?{(\w+)([\?\*])?}/g,function(t,e,u,r){var n="?"===r?r:null,s="*"===r?r:null;return i.push({name:u,optional:!!n}),e=e||"",""+(n?"":e)+"(?:"+(n?e:"")+(s&&"(.+?)"||"([^/]+)")+(n||"")+")"+(n||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+t+"$",u?"i":""),r},e(a,o,{constructor:a,when:function(t,e){var u=this.routes;if(this.routes.hasOwnProperty(e))throw new Error('Redefinition of route "'+t+'"');return u[t]=s(e,a.createPathRegExp(t)),this},prepare:function(t){var e=this.current;return this.preparedRoute=t,this.emit("routeChangeStart",t,e)?!0:!1},commit:function(){var t=this.preparedRoute;this.current=t},go:function(t){var e=this.parse(t);this.prepare(e)||this.emit("routeNotFound",t)},parse:function(t){for(var e,u,r=Object.keys(this.routes),i=this.routes,n=0;n<r.length;n++)if(e=i[r[n]],u=t.match(e.regexp))return e}});var h={};t.router={Router:a,routes:h,router:new a(h)}}(t),!function(){function e(t){return null!=t&&"object"==typeof t}function u(t){return"undefined"==typeof t}function r(t){return u(t)===!1}function i(t){return"string"==typeof t}function n(t){return Array.prototype.slice.call(t)}function s(t,u,r){t.prototype=Object.create(u.prototype),e(r)&&o(t.prototype,r)}function o(t){t||(t={});var u,i,s,o,a,h,c,D=n(arguments).slice(1).filter(r),l=D.length;for(h=0;l>h;h++)if((u=D[h])&&e(u))for(s=Object.keys(u),a=s.length,c=0;a>c;c++)o=s[c],i=u[o],t[o]=i;return t}function e(t){return null!==t&&"object"==typeof t}function a(t){D.call(this),this.url_=null,this.global=t,0===this.global.location.hash.length&&this.url("/"),this.sync();var e=this;this.onHashChange_=function(){e.url()!==e.oldUrl&&(e.sync(),e.replace===e.url()?e.replace=null:(e.replace&&(e.replace=null),e.emit("urlChange",e.url(),e.oldUrl)))},t.addEventListener("hashchange",this.onHashChange_)}function h(t){D.call(this),this.url_=null,this.browser=t,this.sync();var e=this;this.onUrlChangeListener=function(t,u){e.sync(),e.emit("locationChangeStart",e.url(),e.oldUrl)?e.emit("locationChangeSuccess",e.url(),e.oldUrl):e.url(u,1)},this.browser.on("urlChange",this.onUrlChangeListener)}!function(t){function e(){this._events={}}function u(t){return"undefined"==typeof t}e.prototype={on:function(t,e){return this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e),this},off:function(t,e){var u,r=this._events[t];for(u=0;u<r.length;u++)r[u]==e&&r.splice(u,1);return this},emit:function(t){var e,i,n,s=r(arguments).slice(1);if(this._events.hasOwnProperty(t)){for(n=this._events[t],i=new Array(n.length),e=0;e<n.length;e++)i[e]=n[e].apply(this,s);return i.every(function(t){return u(t)?!0:t})}return!0},removeAllListeners:function(){var t,e,u=Object.keys(this._events),r=u.length;for(t=0;r>t;t++)e=u[t],this._events[e]=[]}};var r=function(t){return Array.prototype.slice.call(t)};Array.isArray,t.eventemitter={EventEmitter:e}}(t);var c=Array.isArray||function(t){return e(t)&&t instanceof Array==1},D=t.eventemitter.EventEmitter;s(a,D,{url:function(t,e){if(!t)return this.url_;var u=this.global;return e&&(this.replace=t),u.location.hash=t,this},sync:function(){var t=this.global.location.hash.substring(1);return t!==this.url_&&(this.oldUrl=this.url_,this.url_=t),this},destroy:function(){this.removeAllListeners(),this.global.removeEventListener("hashchange",this.onHashChange_)}}),s(h,D,{url:function(t,e){return t?(this.browser.url(t,e),this):this.url_},search:function(t){var u=this.url().split("?");return e(t)?(u[1]=f.stringify(t),this.url(u.join("?")),this):f.parse(u[1])},path:function(t,e){var u=this.url().split("?");return t?(u[0]=t,this.url(u.join("?"),e),this):u[0]},sync:function(){var t=this.browser.url();return t!==this.url_&&(this.oldUrl=this.url_,this.url_=t),this},destroy:function(){this.browser.off("urlChange",this.onUrlChangeListener)}});var l=function(t){return decodeURIComponent(t)},p=function(t){return encodeURIComponent(t)},f={stringify:function(t){var e,u,r,i=Object.keys(t),n=new Array(i.length);for(e=i.length-1;e>=0;e--)u=i[e],r=t[u],c(r)&&(r=r.join(",")),n[e]=p(u)+"="+p(r);return n.join("&")},parse:function(t){if(i(t)){var e,u,r,n={},s=t.split("&").filter(function(t){return t.length>0}).map(function(t){return t.split("=").filter(function(t){return t.length>0})});for(e=s.length-1;e>=0;e--)r=s[e],u=l(r[0]),n[u]=l(r[1]);return n}return{}}};t.$location={Location:h,Browser:a}}(),!function(e){"use strict";function u(t){return Array.prototype.slice.apply(t)}function r(t){return"undefined"==typeof t}function i(t){return"boolean"==typeof t}function n(t){return r(t)===!1}function s(t,e){return y(Object.create(t),e)}function o(t,e){return Array.prototype.join.call(t,e)}function a(){var t,e,r,i=u(arguments),n=[],s=i.shift(),o=1;for(t=0,e=s.length;e>t;t++)r=s[t],r==ot?(-1===s.substring(t).indexOf(at)&&h("Unclosed bracket at column "+t),0==o&&h("Expecting "+at+" but go "+r+" at column "+t),o=0):r==at?o=1:1==o?n.push(r):n.push(i.length>0?i.shift():st);return new Error(n.join(st))}function h(){throw a.apply(this,arguments)}function c(t,e){var u,r,i=typeof t,n=typeof e;if(t===e)return!0;if(null===t||null===e)return!1;if(i!==n)return!1;if(g(t)){if(t!=e)return!1}else if(F(t)){if(t.length!=e.length||t!=e)return!1}else if(nt(t)){if(t.length!=e.length)return!1;for(r=t.length;r--;)if(!c(t[r],e[r]))return!1}else if(E(t))for(u=Object.keys(t),r=u.length;r--;)if(!c(t[u[r]],e[u[r]]))return!1;return!0}function D(t,e){return t.reduce(e||function(t,e){return t+e})}function l(t){return t[0]}function p(t,e,u){if(E(e)){var r,i,n,s=Object.keys(e),o=s.length;for(u=u||[],r=0;o>r;r++)i=s[r],n=e[i],u.push(n),E(n)&&-1===u.indexOf(n)&&(n=p(nt(n)?[]:{},n,u)),t[i]=n;return t}return e}function f(t){return p(nt(t)?[]:{},t)}function d(t){var e,u=Object.keys(t),r=u.length,i=[];for(e=0;r>e;e++)i[e]=t[u[e]];return i}function A(t,e){var u,r=e.split("."),i=r.length,n=t;for(u=0;i>u;u++)n&&(n=n[r[u]]);return n}function C(){}function E(t){return null!==t&&"object"==typeof t}function F(t){return"string"==typeof t}function m(t){return"function"==typeof t}function g(t){return"number"==typeof t}function y(t){t||(t={});var e,r,i,s,o,a,h,c=u(arguments).slice(1).filter(n),D=c.length;for(a=0;D>a;a++)if((e=c[a])&&E(e))for(i=Object.keys(e),o=i.length,h=0;o>h;h++)s=i[h],r=e[s],t[s]=r;return t}function v(t,e){var u,r,i,n=Object.keys(e),s=n.length;for(u=0;s>u;u++)r=n[u],i=e[r],t.hasOwnProperty(r)||(t[r]=i)}function x(t,e,u){var r;if(nt(t))for(i=0,r=t.length;r>i;i++)e.call(u,t[i],i,t);else{var i,n,s,o=Object.keys(t),a=o.length;for(i=0;a>i;i++)n=o[i],s=t[n],e.call(u,s,n,t)}return t}function B(t,e,u){var r,i=nt(t)?[]:{};if(nt(t))for(r=0;r<t.length;r++)i[r]=e.call(u,t[r],r,t);else if(E(t)){var n=Object.keys(t);for(r=0;r<n.length;r++)i[n[r]]=e.call(u,t[n[r]],n[r],t)}return i}function b(t){return(t=t.replace(/[^A-z]/g," "))&&O(t).replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(t,e){return 0===+t?"":0==e?t.toLowerCase():t.toUpperCase()})}function w(t){return O(t.replace(/[A-Z]/g,"-$&"))}function k(t){if("string"==typeof t)return t;var e=null==t?"":t+"";return"0"==e&&1/t==-INFINITY?"-0":e}function O(t){return(F(t)?t:k(t)).toLowerCase()}function L(t,e){return function(){return P(t,e)}}function P(t,e){return function(){return t.apply(e,arguments)}}function _(t,e,u,r){if(void 0===t||null===t)throw new TypeError('The constructor to "inherits" must not be null or undefined');if(void 0===e||null===e)throw new TypeError('The super constructor to "inherits" must not be null or undefined');if(void 0===e.prototype)throw new TypeError('The super constructor to "inherits" must have a prototype');t.super_=e,t.prototype=Object.create(e.prototype),u&&y(t.prototype,u),r&&y(t,r)}function j(){return++ht}function $(t,e,u){t.hasOwnProperty(dt)||(t[dt]=j(),ft[t[dt]]={});var r=ft[t[dt]];return e?!u&&r.hasOwnProperty(e)?r[e]:(u&&(r[e]=u),null):r}function S(t,e,u){t.nodeType==Node.DOCUMENT_NODE&&(t=t.documentElement);for(var r=nt(e)?e:[e];t;){for(var i=0,n=r.length;n>i;i++)if(u=$(t,r[i]))return u;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}function I(t,e,u){u.hasOwnProperty(t)||(u[t]={directives:[],executed:!1,load:function(){var e,u,r,i=this.directives,n=[];return x(i,function(i,s){e=ct.invokeFactory(i),u={},m(e)?u.compile=L(e):!e.compile&&e.link?u.compile=L(e.link):e.compile||e.link||(e.compile=C),E(e)&&y(u,e),v(u,{priority:0,index:s,name:t,restrict:"EA"}),v(u,{require:u.controller&&u.name}),r=new K(t,u),n.push(r)}),n}}),u[t].directives.push(e)}function N(t,e){if(e=e,t=t||"",!e.hasOwnProperty(t))return null;var u=e[t];return u.executed||y(u,{load:u.load(),executed:!0}),u.load}function T(){this._events={}}function M(){T.call(this),this.observer=new ut(this)}function R(t){M.call(this),t&&(this.parentScope=t),this.childScopes=[],this.topLevelScope=R.getTopLevelScope(this),this.postDigestQueue=[]}function U(t,e,u){this.node=t,this.options=u||{},this.registry=e,this.prepare()}function z(t,e,u){this.node=t,this.registry=e,this.attributes=new Q(this.node),this.directives=[],this.maxPriority=u}function q(t){this.current=null,this.lexer=t}function H(t){return t.type===q.Identifier||t.type===q.MemberExpression}function V(t,e){return"undefined"!=typeof t?t:e}function G(t){this.grammar=new Y("fn"),this.astBuilder=t}function X(t){this.astBuilder=t,this.id=0}function Q(t){this.$$node=t,this.$$observers={}}function W(t,e,u){this.options=u,this.nodeList=t,this.registry=e;var r,i,n,s,o,a,h=[],c=[];for(r=0;r<t.length;r++)i=new z(t[r],this.registry,0===r?this.options.maxPriority:void 0),c=i.scan(),a=i.attributes,n=new et(t[r],c,a),n.prepare(e),o=t[r].childNodes&&t[r].childNodes.length>0&&t[r].childNodes||0,s=new U(o?t[r].childNodes:[],this.registry,this.options),h.push(n,s);this.nodeLinks=h}function K(t,e){t&&(this.name=t),E(e)&&y(this,e)}function Y(t){this.state={},this.nextId_=0,this.current_=t||"fn",this.setCurrent(this.current_)}function Z(t,e,u){this.text=t,this.exps=[],this.index=0,this.parseFns=[],this.endSymbol=u||Z.endSymbol,this.startSymbol=e||Z.startSymbol;for(var r,i,n,t=this.text,s=this.index,o=[],u=this.endSymbol,e=this.startSymbol,a=u.length,h=e.length,c=[];s<t.length;){if(!((n=t.indexOf(e,s))>-1&&(i=t.indexOf(u,n+h))>-1)){s!==t.length&&o.push(t.substring(s));break}s!==n&&o.push(t.substring(s,n)),r=t.substring(n+h,i).trim(),this.exps.push(r),this.parseFns.push(this.parse(r)),c.push(o.length),o.push(""),s=i+a}this.concat=o,this.expressionPositions=c}function J(){}function tt(t){this.nodeList=nt(t)?t:[],Object.defineProperty(this,"classList",{value:{add:P(this._classList.add,this),remove:P(this._classList.remove,this),contains:P(this._classList.contains,this)}})}function et(t,e,u,r){this.node=t,this.links={post:[],pre:[]},this.scope=null,this.context=r||{},this.attributes=u,this.directives=e||[],this.transclude=null,this.terminalPriority=-Number.MAX_VALUE,this.node.nodeType===Node.TEXT_NODE&&this.directives.push({compile:function(t){return function(t,e){var u=new Z(e.nodeValue);t.watchGroup(u.exps,function(){e.nodeValue=u.compile(t)})}}})}function ut(t){this.object=t,this.watchers={}}function rt(t){this.lexer=t,this.ast=new q(this.lexer),this.astCompiler=new G(this.ast)}function it(t,e){this.node=t,E(e)&&y(this,e),this.compileOptions={},g(this.terminalPriority)&&(this.compileOptions.maxPriority=this.terminalPriority);var u;if("element"==this.type){var r=this.directive.name,i=this.attributes,n=this.node.parentNode,s=document.createComment(" "+r+": "+i[r]+" ");this.clone||(this.clone=this.node.cloneNode(1)),n&&n.replaceChild(s,this.node),this.comment=s}else{var o=document.createDocumentFragment(),a=[];for(u=0;u<this.node.childNodes.length;u++)a[u]=this.node.childNodes[u];for(u=0;u<a.length;u++)o.appendChild(a[u]);this.clone=o}if(E(this.type)){var h,c,D,l=Object.keys(this.type),p={},f={},d={};for(u=0;u<l.length;u++)h=l[u],D=this.type[h],c="?"===D.charAt(0),D=c?D.substring(1):D,f[h]=D,p[D]=document.createDocumentFragment(),d[D]=c;for(u=0;u<this.clone.childNodes.length;u++)D=f[b(this.clone.childNodes[u].nodeName)],D&&(d[D]=!0,p[D].appendChild(this.clone.childNodes[u].cloneNode(1)));this.slots=p}}var nt=Array.isArray,st="",ot="{",at="}",ht=0,e=t,ct={},Dt={$$get:function(t){return N(t,Dt)}};ct.invokeFactory=function(t){return t.call(null)},ct.clearRegistry=function(){return x(Dt,function(t,e){"$$get"!==e&&delete Dt[e]}),this},ct.hasDirective=function(t){return Dt.hasOwnProperty(t)},ct.getDirectives=Dt.$$get,ct.register=function(t,e){return I(t,e,Dt)};var lt={};ct.parse=function(t,e){if(lt.hasOwnProperty(t)&&0!=e)return lt[t];var u=new rt(new J);return lt[t]=u.parse(t)};var pt={};ct.templateCache=function(t,e){if(F(t)){if(!e)return pt[t];pt[t]=e}return null},ct.compile=function(t){var e=new U(t,Dt);return function(t){return e.execute(t)}},ct.bootstrap=function(t){ct.rootElement=t;var e=ct._rootScope=new ct.Scope;return ct.compile(t)(e)},y(ct,{Scope:R,Compile:U,_registry:Dt}),e.renderer=ct,ct.prototype={__elementCache:{},__cacheKey:"$$$rt339"};var ft=ct.prototype.__elementCache,dt=ct.prototype.__cacheKey;T.prototype={on:function(t,e){return this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e),this},off:function(t,e){var u,r=this._events[t];for(u=0;u<r.length;u++)r[u]==e&&r.splice(u,1);return this},emit:function(t){var e,r,i=u(arguments).slice(1);if(this._events.hasOwnProperty(t))for(r=this._events[t],e=0;e<r.length;e++)r[e].apply(this,i);return r&&r.length>0?!0:!1},removeAllListeners:function(){var t,e,u,r,i,n=Object.keys(this._events),s=n.length;for(t=0;s>t;t++)for(i=n[t],r=this._events[i],u=r.length,e=0;u>e;e++)r.splice(e,1)}},_(M,T,{deliverChangeRecords:function(){this.observer.deliverChangeRecords()},watch:function(t,e){var u=!1;this.observer.watchers.hasOwnProperty(t)||(u=!0),this.observer.watch(t,P(e,this)),u&&this.observer.fire(t)},watchGroup:function(t,e){var u=this;x(t,function(t){u.watch(t,e)})}});var st="",At=function(t){t.deliver();for(var e=t.childScopes.length-1;e>=0;e--)At(t.childScopes[e])},Ct=function(t){return M.prototype.deliverChangeRecords.call(t)};_(R,M,{watch:function(t,e){if(R.isComplexExpression(t)){var u,r=R.extractExpressions(t),i=r.identifiers,n=r.allExps.map(function(t){return t.join(".")});return this.watchGroup(n.concat(i),function(){var r=this.eval(t);e.call(this,r,u),u=f(r)})}return M.prototype.watch.call(this,t,e)},eval:function(t){return m(t)?t(this):r(t)?t:ct.parse(t)(this)},clone:function(t,e){var u;e=e||this,t?u=new R(e):(this.ChildScopeClass||(this.ChildScopeClass=R.createChildScopeClass(this)),u=new this.ChildScopeClass);var r=this.childScopes.length;return this.childScopes[r]=u,u.on("destroy",function(){this.parentScope.childScopes.splice(r,1)}),u},broadcast:function(t,e){this.parentScope&&this.parentScope.broadcast(t,e),this.emit(t,e)},postDigest:function(t){return this.postDigestQueue.push(t),this},throwError:function(){throw a.apply(this,arguments)},deliver:function(){try{return Ct(this)}finally{for(;this.postDigestQueue.length;)try{this.postDigestQueue.shift()()}catch(t){R.handleError(t)}}},deliverChangeRecords:function(){for(var t=this.parentScope;t;)t.deliver(),t=t.parentScope;this.deliver();for(var e=this.childScopes,u=e.length-1;u>=0;u--)At(e[u]);return this},apply:function(t){var e=this.topLevelScope;try{R.beginPhase(e,"apply");try{return this.eval(t)}finally{R.clearPhase(e)}}catch(u){throw u}finally{try{this.deliverChangeRecords()}catch(u){throw u}}return this},destroy:function(){this.emit("destroy")}},{extractExpressions:function(t){var e=new J,u=new q(e),r=new X(u);return r.find(t)&&r},isComplexExpression:function(t){var e,u,r=this.complexTokens.split(st);for(e=r.length-1;e>=0;e--)if(u=r[e],t.indexOf(u)>-1)return!0;return!1},handleError:function(t){throw t},createChildScopeClass:function(t){function e(){R.call(this,t)}return e.prototype=t,e},beginPhase:function(t,e){t.phase?this.throwError("{0} already in progress",t.phase):t.phase=e},clearPhase:function(t){t.phase=null},getTopLevelScope:function(t){for(var e=t;e&&e.parentScope;)e=e.parentScope;return e},complexTokens:"[]()&!`/*+-="}),U.prototype={prepare:function(){if(this.node instanceof DocumentFragment==1&&(this.node=this.node.childNodes),(this.node instanceof NodeList==1||nt(this.node)===!0)&&this.node.length>0)this.compositeLink=new W(this.node,this.registry,this.options);else if(this.node instanceof Node==1){var t=new z(this.node,this.registry,this.options.maxPriority),e=t.scan(),u=t.attributes;this.compositeLink=new et(this.node,e,u),this.compositeLink.prepare(this.registry),this.childLink=new U(this.node.childNodes,this.registry,y(f(this.options),{maxPriority:void 0}))}},execute:function(t,e){if(this.node instanceof Node==1)if(this._node){var u=this.node.parentNode;u&&this.node.replaceChild(this._node,this.node),this.node=this._node,this.prepare(),this._node=this._node.cloneNode(1)}else this._node=this.node.cloneNode(1);this.compositeLink?this.compositeLink.execute(t,this.childLink,e):this.childLink&&this.childLink.execute(t,e)}},z.prototype={isMultiElement:function(t){var e,u,r,i=0;if(r=this.registry.$$get(t))for(e=r.length;e>i;i++)if(u=r[i],u.multiElement)return!0;return!1},scan:function(){this.directives.length&&(this.directives=[]);var t,e,u,r,i,n,s=/^(.+)Start$/,o=this.node,a=o.attributes,h=a&&a.length||0,c=this.normalize(o.nodeName);for(this.add(c,"E"),t=0;h>t;t++){c=this.normalize(a[t].name);var D=c.match(s);D&&this.isMultiElement(D[1])&&(i=a[t].name,n=a[t].name.substr(0,c.length-3)+"end",c=c.substring(0,c.length-5)),this.interpolate(c,a[t].value),this.attributes[c]=a[t].value,this.add(c,"A",i,n)}if(o.nodeType==Node.ELEMENT_NODE)for(r=o.className.split(" "),u=r.length,e=0;u>e;e++)this.add(this.normalize(r[e]),"C");return this.directives.sort(function(t,e){var u=e.priority-t.priority;return 0!==u?u:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}),this.directives},interpolate:function(t,e){this.directives.push({priority:100,compile:function(){return{pre:function(u,r,i){var n=new Z(e);0!==n.exps.length&&(i[t]=n.compile(u),u.watchGroup(n.exps,function(){i.$set(t,n.compile(u))}))}}}})},add:function(t,e,u,r){var i=this.registry.$$get(t),o=this.maxPriority;if(!i)return null;var a,h,c=i.length;for(a=0;c>a;a++)h=i[a],-1!==h.restrict.indexOf(e)&&(!n(o)||h.priority>o)?(u&&(h=s(h,{$$start:u,$$end:r})),this.directives.push(h)):(o=void 0,delete this.maxPriority)},normalize:function(t){return b(t)}};var Et=Et={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/
},Ft={isIdentifierStart:function(t){return 36===t||95===t||t>=65&&90>=t||t>=97&&122>=t||92===t||t>=128&&Et.NonAsciiIdentifierStart.test(Ft.fromCodePoint(t))},isWhiteSpace:function(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0},isIdentifierPart:function(t){return 36===t||95===t||t>=65&&90>=t||t>=97&&122>=t||t>=48&&57>=t||92===t||t>=128&&Et.NonAsciiIdentifierPart.test(fromCodePoint(t))}},mt={Program:"Program",ExpressionStatement:"ExpressionStatement",AssignmentExpression:"AssignmentExpression",ConditionalExpression:"ConditionalExpression",LogicalExpression:"LogicalExpression",BinaryExpression:"BinaryExpression",UnaryExpression:"UnaryExpression",CallExpression:"CallExpression",MemberExpression:"MemberExpression",Identifier:"Identifier",Literal:"Literal",ArrayExpression:"ArrayExpression",Property:"Property",ObjectExpression:"ObjectExpression",ThisExpression:"ThisExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral"},gt={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9,Template:10};x(gt,function(t,e){gt[t]=e.replace(/Literal/,"")}),y(q,mt),q.prototype={ast:function(t){this.text=t,this.tokens=this.tokenize(this.lexer.lex(this.text)),this.current=null;var e=this.program();return e},tokenize:function(t){var e,u;for(e=0;e<t.length;e++)u=t[e],(u.type===gt.StringLiteral||u.type===gt.NumericLiteral)&&(u.raw=this.text.substring(u.start,u.end));return t},throwError:function(t,e){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.value,t,e.index+1,this.text,this.text.substring(e.index))},program:function(){for(var t,e=[];this.tokens.length>0;)t=this.expressionStatement(),e.push(t),this.expect(";");return{type:q.Program,body:e}},peekToken:function(){if(0===this.tokens.length)throw new Error("Unexpected end of expression: "+this.text);return this.tokens[0]},peek:function(t,e,u,r){return this.peekAhead(0,t,e,u,r)},peekAhead:function(t,e,u,r,i){var n,s;return this.tokens.length>t&&(n=this.tokens[t],s=n.value,s===e||s===u||s===r||s===i||!e&&!u&&!r&&!i)?n:!1},consume:function(t){if(0===this.tokens.length)throw new Error("unexpected end of expression"+this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},expect:function(t,e,u,r){var i=this.peek(t,e,u,r);return i?(this.tokens.shift(),i):!1},expressionStatement:function(){return{type:q.ExpressionStatement,expression:this.expression()}},expression:function(){return this.assignment()},assignment:function(){var t,e=this.conditional();return(t=this.expect("*=","/=","%=","-=")||this.expect("<<=",">>=",">>>=","&=")||this.expect("^=","|=","+=","="))&&(e={type:q.AssignmentExpression,left:e,right:this.assignment(),operator:t.value}),e},conditional:function(){var t,e,u=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:q.ConditionalExpression,test:u,alternate:t,consequent:e}):u},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:q.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:q.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.bitwise();t=this.expect("==","!=","===","!==");)e={type:q.BinaryExpression,operator:t.value,left:e,right:this.bitwise()};return e},bitwise:function(){for(var t,e=this.shift();t=this.expect("&","^","|");)e={type:q.BinaryExpression,operator:t.value,left:e,right:this.shift()};return e},shift:function(){for(var t,e=this.relational();t=this.expect("<<",">>",">>>");)e={type:q.BinaryExpression,operator:t.value,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:q.BinaryExpression,operator:t.value,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:q.BinaryExpression,operator:t.value,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:q.BinaryExpression,operator:t.value,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:q.UnaryExpression,operator:t.value,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.expression(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().value)?t=f(this.constants[this.consume().value]):this.peek().type===gt.Identifier?t=this.identifier():this.peek().type===gt.NumericLiteral||this.peek().type===gt.StringLiteral?t=this.constant():this.peek().type===gt.Template?t=this.template():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.value?(t={type:q.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.value?(t={type:q.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.value?t={type:q.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},templateElement:function(){var t=this.consume();return{type:q.TemplateElement,cooked:{value:t.value,raw:t.value},tail:t.tail}},template:function(){for(var t,e=!1,u=[],r=[];(t=this.peek(),t)&&(t.type===gt.Template?(t.tail&&(e=!0),u.push(this.templateElement())):r.push(this.expression()),!e););return{type:q.TemplateLiteral,quasis:u,expressions:r}},parseArguments:function(){var t=[];if(")"!==this.peek().value)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.type!==gt.Identifier&&this.throwError("is not a valid identifier",t),{type:q.Identifier,name:t.value}},constant:function(){return{type:q.Literal,value:this.consume().raw}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:q.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().value)do{if(this.peek("}"))break;t={type:q.Property,kind:"init"},this.peek().type===gt.NumericLiteral?t.key=this.constant():this.peek().type===gt.Identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:q.ObjectExpression,properties:e}},constants:{"true":{type:q.Literal,value:!0},"false":{type:q.Literal,value:!1},"null":{type:q.Literal,value:null},undefined:{type:q.Literal,value:void 0},"this":{type:q.ThisExpression}}},G.prototype={assignableAST:function(t){return 1===t.body.length&&H(t.body[0].expression)?{type:q.AssignmentExpression,left:t.body[0].expression,right:{type:q.NGValueParameter},operator:"="}:void 0},compile:function(t,e){var u,i=this.astBuilder.ast(t),n="";if(u=this.assignableAST(i)){this.grammar.setCurrent("assign");var s=this.nextId();this.recurse(u,s,void 0,void 0,!0),this.grammar.return_(s),n+="fn.assign="+this.generateFunction("assign","s,v,l")+";"}this.grammar.setCurrent("fn"),this.recurse(i);var o="var fn = "+this.generateFunction("fn","s,l")+";"+n+"return fn;",a=new Function("plus","isUndefined","ifDefined",o)(this.sum,r,V);return this.clear(),a},sum:function(t,e){var r=u(arguments);return D.call(this,r)},clear:function(t){this.grammar.clear(t)},lazyRecurse:function(){var t=this,e=arguments;return function(){t.recurse.apply(t,e)}},generateFunction:function(t,e){return this.grammar.generateFunction(t,e)},nextId:function(){return this.grammar.nextId.apply(this.grammar,arguments)},id:function(t){return this.grammar.id(t)},exec:function(t){var e=u(arguments).slice(1);return t.apply(this,e),this},recurse:function(t,e,u,r,i){switch(e=e||this.nextId(),r=r||C,t.type){case q.Program:this.parseProgram(t);break;case q.Literal:this.parseLiteral(t,e,r);break;case q.BinaryExpression:this.parseBinaryExpression(t,e,r,i);break;case q.LogicalExpression:this.parseLogicalExpression(t,e,r,i);break;case q.UnaryExpression:this.parseUnaryExpression(t,e,r,i);break;case q.Identifier:this.parseIdentifier(t,e,u,r,i);break;case q.MemberExpression:this.parseMemberExpression(t,e,u,r,i);break;case q.AssignmentExpression:this.parseAssignmentExpression(t,e,r);break;case q.ConditionalExpression:this.parseConditionalExpression(t,e,r);break;case q.CallExpression:this.parseCallExpression(t,e,r);break;case q.ObjectExpression:this.parseObjectExpression(t,e,r);break;case q.TemplateLiteral:this.parseTemplateLiteral(t,e,r);break;case q.ArrayExpression:this.parseArrayExpression(t,e,r);break;case q.ThisExpression:this.parseThisExpression(t,e,r);break;case q.NGValueParameter:this.grammar.assign(e,"v"),r("v");break;default:throw new Error("no statement for "+t.type)}return e},parseUnaryExpression:function(t,e,u){var r,i;this.recurse(t.argument,void 0,void 0,function(t){r=t}),i=t.operator+"("+this.grammar.ifDefined(r,0)+")",this.grammar.assign(e,i),u(i)},parseThisExpression:function(t,e,u){this.grammar.assign(e,"s"),u("s")},parseArrayExpression:function(t,e,u){var r,i,n=t.elements;for(this.grammar.assign(e,"new Array("+n.length+")"),r=0;r<n.length;r++)i=this.recurse(n[r]),this.grammar.assign(e+"["+r+"]",i);u(e)},parseTemplateLiteral:function(t,e,u){var r,i,e,n,s=[],o=[];for(r=0;r<t.expressions.length;r++)i=t.expressions[r],o.push(this.recurse(i));for(r=0;r<t.quasis.length&&(n=t.quasis[r],!n.tail||g(n.cooked.value)||!isEmpty(n.cooked.value));r++)s.push(this.grammar.getAsString(this.grammar.escape(n.cooked.value))),o.length&&(i=o.shift(),i=this.grammar.join(this.grammar.join(this.grammar.execute("isNumber",i),this.grammar.execute("String",i),"&&"),i,"||"),s.push(this.grammar.block(this.grammar.join(i,this.grammar.getAsString(),"||"))));this.grammar.assign(e,s.join("+")),u(e)},parseObjectExpression:function(t,e,u){var r,i=[],n=this;x(t.properties,function(t){n.recurse(t.value,n.nextId(),void 0,function(e){i.push(n.grammar.escape(t.key.type===q.Identifier?t.key.name:t.key.value)+":"+e)})}),r="{"+i.join(",")+"}",this.grammar.assign(e,r),u(r)},parseCallExpression:function(t,e,u){var r,i,n,s=this,o=[],a=this.grammar;r=this.nextId(),i=t.callee,this.recurse(t.callee,r,void 0,function(){a.ifNotNull(r,function(){x(t.arguments,function(t){s.recurse(t,s.nextId(),function(t){o.push(t)})}),n=i.name?this.member("s",i.name,i.computed)+this.block(o.join(",")):this.execute(r,o),this.assign(e,n)},function(){this.assign(e,"undefined")}),u(e)})},parseConditionalExpression:function(t,e,u){this.recurse(t.test,e),this.grammar.if_(e,this.lazyRecurse(t.alternate,e),this.lazyRecurse(t.consequent,e)),u(e)},parseBinaryExpression:function(t,e,u,r){var i,n=this.nextId(),s=this.nextId();this.recurse(t.left,s,void 0,function(t){s=t},r),this.recurse(t.right,n,void 0,function(t){n=t},r),i="+"===t.operator?this.grammar.plus(s,n):"-"===t.operator?this.grammar.ifDefined(s,0)+t.operator+this.grammar.ifDefined(n,0):this.grammar.block(s)+t.operator+this.grammar.block(n),this.grammar.assign(e,i),this.exec(u,i)},parseAssignmentExpression:function(t,e,u){var r,i=this,n=this.nextId(),s=this.grammar;if(!H(t.left))throw $parseMinErr("lval","Trying to assign a value to a non l-value");var o={};this.recurse(t.left,void 0,o,function(a){s.ifNotNull("s",function(){i.recurse(t.right,n),r=this.member(o.context,o.name,o.computed)+t.operator+n,this.assign(e,r),i.exec(u,e||r)})},1)},parseIdentifier:function(t,e,u,r,i){u&&(u.context="s",u.computed=!1,u.name=t.name),this.grammar.ifNot(this.grammar.getHasOwnProperty("l",t.name),function(){this.if_("s",function(){i&&this.ifNot(this.getHasOwnProperty("s",t.name),this.lazyAssign(this.member("s",t.name),"{}")),this.assign(e,this.member("s",t.name))})},function(){this.if_(this.getHasOwnProperty("l",t.name),this.lazyAssign(e,this.member("l",t.name)))}),this.exec(r,e)},parseLogicalExpression:function(t,e,u,r){var i=this.grammar;this.recurse(t.left,e,void 0,void 0,r),i["&&"===t.operator?"if_":"ifNot"](e,this.lazyRecurse(t.right,e)),this.exec(u,e)},parseMemberExpression:function(t,e,u,r,i){var n,s,o=this,a=(this.grammar,u&&(u.context=this.nextId())||this.nextId());this.recurse(t.object,a,void 0,function(h){var c=this.grammar;c.ifNotNull(a,function(){t.computed?(s=this.nextId(),o.recurse(t.property,s),i&&this.ifNot(this.computedMember(a,s),this.lazyAssign(this.computedMember(a,s),"{}")),n=this.computedMember(a,s),this.assign(e,n),u&&(u.computed=!0,u.name=s)):(i&&this.ifNot(this.join(a,a+'.hasOwnProperty("'+t.property.name+'")',"&&"),this.lazyAssign(this.nonComputedMember(a,t.property.name),"{}")),n=c.nonComputedMember(a,t.property.name),this.assign(e,n),u&&(u.computed=!1,u.name=t.property.name))},function(){this.assign(e,"undefined")}),this.exec(r,e)},!!i)},parseLiteral:function(t,e,u){var r=f(t.value);this.grammar.assign(e,r),this.exec(u,r)},parseProgram:function(t,e){var u,r=this.grammar;e=e||P(this.recurse,this),x(t.body,function(i,n){e(i.expression,void 0,void 0,function(t){u=t}),n!==t.body.length-1?r.current().body.push(u,";"):r.return_(u)})}},X.prototype={nextId:function(){return++this.id},find:function(t){var e,u,r,i=this.astBuilder.ast(t);return this.objects=r={},this.computeds=e={},this.expressions=u={},this.identifiers=[],this.recurse(i),x(this.expressions,function(t,r){e[r]&&t.length||(delete e[r],delete u[r])}),this.exps=B(this.expressions,function(t,e){var u=t.join("."),i={property:!0,exp:u};return r[e]&&r[e].join(".")===u&&(i.property=!1),i}),this.allExps=d(this.expressions)},parseProgram:function(t){var e=this;x(t.body,function(t){e.recurse(t.expression)})},parseMemberExpression:function(t,e,u){var r,i=this.expressions[e];t.hasOwnProperty("object")&&t.object.name&&this.objects[e].push(t.object.name),this.recurse(t.object,e,function(){t.computed?(r=this.nextId(),this.computeds[r]=!0,this.recurse(t.property,r)):i.push(t.property.name),u(e)})},parseBinaryExpression:function(t,e,u){var r=this.nextId(),i=this.nextId(),n=this.computeds;this.recurse(t.left,r,function(){this.recurse(t.right,i),x(this.expressions,function(t,e){(e==i||e==r)&&(n[e]=!0)}),u(e)})},parseLogicalExpression:function(t,e,u){this.recurse(t.left),this.recurse(t.right)},parseIdentifier:function(t,e,u){this.identifiers.push(t.name),this.expressions[e].push(t.name),u(e)},parseTemplateLiteral:function(t,e,u){var r,i=this;x(t.expressions,function(t){r=i.nextId(),i.computeds[r]=!0,i.recurse(t,r)}),u(e)},parseArrayExpression:function(t,e,u){console.log(t)},recurse:function(t,e,u){switch(e=e||this.nextId(),u=u&&P(u,this)||C,this.expressions.hasOwnProperty(e)||(this.expressions[e]=[]),this.objects.hasOwnProperty(e)||(this.objects[e]=[]),t.type){case q.CallExpression:case q.ArrayExpression:case q.Literal:u(e);break;case q.TemplateLiteral:this.parseTemplateLiteral(t,e,u);break;case q.LogicalExpression:this.parseLogicalExpression(t,e,u);break;case q.BinaryExpression:this.parseBinaryExpression(t,e,u);break;case q.MemberExpression:this.parseMemberExpression(t,e,u);break;case q.Program:this.parseProgram(t);break;case q.Identifier:this.parseIdentifier(t,e,u);break;default:throw new Error("there is no statement for "+t.type)}}},Q.prototype={$set:function(t,e){this[t]=e;var u=this.$$normalize(t);this.$$node instanceof Node==1&&this.$$node.setAttribute(u,e),this.$$fire(t)},$$fire:function(t){if(this.$$observers.hasOwnProperty(t)){var e=0,u=this.$$observers[t].length;if(u>0){for(;u>e;e++)this.$$observers[t][e](this[t]);this.$$observers[t].$$called++}}},$$normalize:function(t){return w(t)},$observe:function(t,e){var u=this;return this.$$observers.hasOwnProperty(t)||(this.$$observers[t]=[],this.$$observers[t].$$called=0),this.$$observers[t].push(e),setTimeout(function(){u.$$observers[t].$$called<1&&u.hasOwnProperty(t)&&!r(u[t])&&u.$$fire(t)}),function(){return u.$$removeObserver(t,e)}},$$removeObserver:function(t,e){if(this.$$observers.hasOwnProperty(t)){for(var u=0,r=this.$$observers[t].length;r>u;u++)this.$$observers[t][u]==e&&this.$$observers[t].splice(u,1);return!0}return!1}},W.prototype={execute:function(t,e,u){var r,i=this.nodeLinks.length;for(r=0;i>r;r++)this.nodeLinks[r].execute(t,this.nodeLinks[++r],u)}},Y.prototype={nextId:function(t,e){var u="v"+this.nextId_++;return t||this.current().vars.push(u+(e?"="+e:"")),u},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},setCurrent:function(t){return this.state.hasOwnProperty(t)||this.createSection(t),this.current_=t,this},createSection:function(t){return this.state[t]={body:[],vars:[],own:{},nextId:0},this},body:function(t){return this.state[t].body.join("")},current:function(){return this.state[this.current_]},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},exec:function(t){var e=u(arguments).slice(1);return t.apply(this,e),this},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,u){return u?this.computedMember(t,e):this.nonComputedMember(t,e)},not:function(t){return"!"+this.block(t)},notNull:function(t){return t+"!=null"},ifNot:function(t,e,u){return this.if_(this.not(t),e,u)},ifNotNull:function(t,e,u){return this.if_(this.notNull(t),e,u),this},ifIsDefined:function(t,e,u){return this.if_(this.join(this.notNull(t),"&&"),e,u)},if_:function(t,e,u){var r=this.current().body;r.push("if(",t,"){"),this.exec(e,t),r.push("}"),u&&(r.push("else{"),this.exec(u,t),r.push("}"))},return_:function(t){this.current().body.push("return ",t,";")},escape:function(t){return escape(t)},join:function(){var t=u(arguments),e=t.slice(-1)[0];return t.slice(0,t.length-1).join(e)},getHasOwnProperty:function(t,e){var u=t+"."+e,r=this.current().own;return r.hasOwnProperty(u)||(r[u]=this.nextId(!1,this.join(t,this.block(this.member(t,this.execute("hasOwnProperty",'"'+this.escape(e)+'"'))),"&&"))),r[u]},block:function(t,e,u){return e=e||"(",u=u||")",e+t+u},execute:function(t){var e=u(arguments).slice(1);return 1===e.length&&nt(e[0])&&(e=e[0]),t+this.block(e.join(","))},plus:function(t,e){return this.execute("plus",t,e)},ifDefined:function(t,e){return this.execute("ifDefined",t,this.escape(e))},ifIsUndefined:function(t){return this.execute("isUndefined",t)},generateFunction:function(t,e){return e||(e=""),"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"}"},id:function(t,e,u){return t||this.nextId(e,u)},lazyAssign:function(t,e){var u=this;return function(){u.assign(t,e)}},push:function(){var t=u(arguments),e=this.current().body;return e.push.apply(e,t)},getAsString:function(t){return'"'+(t||"")+'"'},clear:function(t){var e=this;return t?(this.state.hasOwnProperty(t)&&delete this.state[t],void this.setCurrent(t)):(x(this.state,function(t,u){e.clear(u)}),this)}},y(Z,{startSymbol:"{{",endSymbol:"}}"}),Z.prototype={parse:function(t){return ct.parse(t)},compute:function(t){for(var e=this.exps,u=this.concat,r=this.expressionPositions,i=0,n=e.length;n>i;i++)u[r[i]]=t[i];return u.join("")},compile:function(t){for(var e=0,u=this.exps.length,r=new Array(u);u>e;e++)r[e]=this.parseFns[e](t);return this.compute(r)}},J.prototype={lex:function(t){this.index=0,this.text=t,this.length=this.text.length,this._scanning=!1,this.tokens=[],this.curlyStack=[];for(var e;!this.eof();)e=this.text.charCodeAt(this.index),this.isWhiteSpace(e)?++this.index:this.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?this.isDecimalDigit(this.text.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():this.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():this.scanPunctuator();return this.tokens},throwUnexpectedToken:function(){throw new Error("Column "+this.index+": Unexpected token "+this.text[this.index])},isDecimalDigit:function(t){return t>=48&&57>=t},isIdentifierPart:function(t){return Ft.isIdentifierPart(t)},isOctalDigit:function(t){return t>=48&&55>=t},getIdentifier:function(){for(var t,e=this.index++;!this.eof();){if(t=this.text.charCodeAt(this.index),92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&57343>t)return this.index=e,this.getComplexIdentifier();if(!this.isIdentifierPart(t))break;++this.index}return this.text.slice(e,this.index)},scanTemplate:function(){var t,e="",u=!1,r=this.index,i="`"===this.text[r],n=!1,s=2;for(++this.index;!this.eof();){if(t=this.text[this.index++],"`"===t){s=1,n=!0,u=!0;break}if("$"===t){if("{"===this.text[this.index]){this.curlyStack.push("${"),++this.index,u=!0;break}e+=t}else e+=t}u||this.throwUnexpectedToken(),i||this.curlyStack.pop(),this.tokens.push({type:gt.Template,value:e,start:r,tail:n,head:i,end:this.index})},scanNumericLiteral:function(){var t;t=this.text[this.index],this.assert(this.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var e=this.index,u="";if("."!==t){if(u=this.text[this.index++],t=this.text[this.index],"0"===u){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(this.isOctalDigit(t)&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;this.isDecimalDigit(this.text.charCodeAt(this.index));)u+=this.text[this.index++];t=this.text[this.index]}if("."===t){for(u+=this.text[this.index++];this.isDecimalDigit(this.text.charCodeAt(this.index));)u+=this.text[this.index++];t=this.text[this.index]}if("e"===t||"E"===t)if(u+=this.text[this.index++],t=this.text[this.index],("+"===t||"-"===t)&&(u+=this.text[this.index++]),this.isDecimalDigit(this.text.charCodeAt(this.index)))for(;this.isDecimalDigit(this.text.charCodeAt(this.index));)u+=this.text[this.index++];else this.throwUnexpectedToken();this.isIdentifierPart(this.text.charCodeAt(this.index))&&this.throwUnexpectedToken(),this.tokens.push({type:gt.NumericLiteral,value:parseFloat(u),start:e,end:this.index})},scanIdentifier:function(){var t,e,u=this.index;t=92===this.text.charCodeAt(this.index)?this.getComplexIdentifier():this.getIdentifier(),e=1===t.length?gt.Identifier:"null"===t?gt.NullLiteral:"true"===t||"false"===t?gt.BooleanLiteral:gt.Identifier,this.tokens.push({type:e,value:t,start:u,end:this.index})},assert:function(t,e){if(!t)throw new Error("ASSERT: "+e)},eof:function(){return this.index>=this.length},isWhiteSpace:function(t){return Ft.isWhiteSpace(t)},isIdentifierStart:function(t){return Ft.isIdentifierStart(t)},scanPunctuator:function(){var t={type:gt.Punctuator,value:"",start:this.index,end:this.index},e=this.text[this.index];switch(e){case"{":"{"===e&&this.curlyStack.push(e),++this.index;break;case"}":++this.index,this.curlyStack.pop();break;case".":++this.index,"."===this.text[this.index]&&"."===this.text[this.index+1]&&(this.index+=2,e="...");break;case"(":case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:e=this.text.substr(this.index,4),">>>="===e?this.index+=4:(e=e.substr(0,3),"==="===e||"!=="===e||">>>"===e||"<<="===e||">>="===e?this.index+=3:(e=e.substr(0,2),"&&"===e||"||"===e||"=="===e||"!="===e||"+="===e||"-="===e||"*="===e||"/="===e||"++"===e||"--"===e||"<<"===e||">>"===e||"&="===e||"|="===e||"^="===e||"%="===e||"<="===e||">="===e||"=>"===e?this.index+=2:(e=this.text[this.index],"<>=!+-*%&|^/".indexOf(e)>=0&&++this.index)))}this.index===t.start&&this.throwUnexpectedToken(),t.end=this.index,t.value=e,this.tokens.push(t)},scanStringLiteral:function(){const t=this.index;var e=this.text[t];this.assert("'"===e||'"'===e,"String literal must starts with a quote"),++this.index;for(var u,r=!1,i="";!this.eof();){if(u=this.text[this.index++],u===e){e="";break}i+=u}""!==e&&this.throwUnexpectedToken(),this.tokens.push({type:gt.StringLiteral,value:i,octal:r,start:t,end:this.index})},scanning:function(t){return this._scanning=t||!this._scanning,this}},tt.prototype={_classList:{add:function(){return this.exec("classList.add",arguments)},remove:function(){return this.exec("classList.remove",arguments)},contains:function(){return this.exec("classList.contains",arguments)}},exec:function(t,e){for(var u,r,i,n,s,o,a=0;a<this.nodeList.length;a++)r=this.nodeList[a],t.indexOf(".")>-1?(u=A(r,t),i=t.split("."),s=A(r,l(i.slice(-2)))):(u=r[t],s=r),n=(o=u.apply(s,e))?o:null;return n},setAttribute:function(){return this.exec("setAttribute",arguments)},getAttribute:function(t,e){for(var u=0;u<this.nodeList.length;u++)if(this.nodeList[u].hasAttribute(t))return this.nodeList[u].getAttribute(t)}},y(et,{SCOPE_CHILD:1,SCOPE_ISOLATED:2}),et.prototype={constructor:et,group:function(t,e){var u=this.node,r=[],i=0;if(t&&u.hasAttribute&&u.hasAttribute(t)){do{if(!u)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,e);u.nodeType==Node.ELEMENT_NODE&&(u.hasAttribute(t)&&i++,u.hasAttribute(e)&&i--),r.push(u),u=u.nextSibling}while(i>0)}else r.push(u);return new tt(r)},prepare:function(t){var e,u,r,n,s,a,h=this.directives.length,c=this.context;for(e=0;h>e&&(s=this.directives[e],!(this.terminalPriority>s.priority));e++){if(n=s.$$start,r=s.$$end,n&&(this.node=this.group(n,r)),s.hasOwnProperty("scope")&&s.scope){if(E(s.scope)){if(this.scope)throw new Error("You can't define a new isolated scope on a node that already has a child scope defined");a=et.SCOPE_ISOLATED}else i(s.scope)&&(a=et.SCOPE_CHILD);this.scope={type:a,bindings:s.scope}}s.controller&&(c.controllers=c.controllers||{},c.controllers[s.name]=s),!s.transclude&&s.template&&(s.transclude=!0),s.transclude&&("element"==s.transclude&&(this.terminalPriority=s.priority),u={type:s.transclude,registry:t,directive:s,attributes:this.attributes,controllers:c.controllers,terminalPriority:this.terminalPriority},this.transclude=new it(this.node,u),"element"==s.transclude&&this.node!==this.transclude.comment&&(this.node=this.transclude.comment),this.transcludeFn=this.transclude.getTranscludeCallback()),s.template&&(nt(s.template)&&(s.template=o(s.template,"")),this.node.innerHTML=s.template,this.hasTemplate=!0),this.addLink(s.compile(this.node,this.attributes,this.transcludeFn),s),s.terminal&&(this.terminal=!0,this.terminalPriority=Math.max(this.terminalPriority,s.priority))}},REQUIRE_PREFIX_REGEXP:/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,getControllers:function(t,e,u,r){var i;if(F(u)){var n=u.match(this.REQUIRE_PREFIX_REGEXP),s=u.substring(n[0].length),o=n[1]||n[3],a="?"===n[2];if("^^"===o?$element=$element.parentNode:(i=r&&r[s],i=i&&i.instance),!i){var h="$"+s+"Controller";i=o?S(e,h):$(e,h)}if(!i&&!a)throw new Error("Controller '"+s+"', required by directive '"+t+"', can't be found!")}else if(nt(u)){i=[];for(var c=0,D=u.length;D>c;c++)i[c]=this.getControllers(t,e,u[c],r)}return i||null},instantiate:function(t,e,u,r,i){return new t(e,u,r,i)},setupControllers:function(t,e,u,r){var i,n,s,o=Object.keys(this.context.controllers),a={};for(i=0;i<o.length;i++)n=this.context.controllers[o[i]],m(n.controller)&&(s=this.instantiate(n.controller,t,e,u,r),a[n.name]=s,$(e,"$"+n.name+"Controller",a[n.name]));return a},parse:function(t){return new rt(new J).parse(t)},directiveBindings:function(t,e,u){var r=Object.keys(u),i=(r.length,this.attributes);x(u,function(r,n){var s,o,a,h;switch(r=u[n],r.length>1?(s=r.substring(1),r=r[0]):s=n,r){case"@":i.$observe(s,function(t){F(t)&&(e[n]=t)}),F(i[s])&&(e[n]=new Z(i[s]).compile(t));break;case"=":if(!i.hasOwnProperty(s))break;o=this.parse(i[s]),a=o.assign,h=e[n]=o(t);var D=function(u){return c(u,e[n])||(c(u,h)?a(t,u=e[n]):e[n]=u),h=u};t.watch(i[s],D),e.watch(n,function(e){D(A(t,i[s]))})}},this)},callLink:function(t,e,u){return t(e,this.node,this.attributes,this.getControllers(t.directiveName,this.node,t.require,this.controllers),u),this},execute:function(t,e,u){var r;if(this.transclude?this.transcludeFn=this.transclude.getTranscludeCallback(t):!this.transcludeFn&&m(u)&&(this.transcludeFn=u),this.scope)switch(this.scope.type){case et.SCOPE_CHILD:r=t.clone();break;case et.SCOPE_ISOLATED:r=t.clone(!0),this.directiveBindings(t,r,this.scope.bindings)}else r||(r=t);this.context.controllers&&(this.controllers=this.setupControllers(r,this.node,this.attributes,u));for(var i,n=0,s=this.links,o=s.pre.length;o>n;n++)i=s.pre[n],this.callLink(i,i.newScopeType?r:t,this.transcludeFn);for(e.execute(t,this.transcludeFn),n=s.post.length-1;n>=0;n--)i=s.post[n],this.callLink(i,i.newScopeType?r:t,this.transcludeFn)},addLink:function(t,e){var u=this.links,r={directiveName:e.name,require:e.require,newScopeType:n(e.scope)};E(t)?x(t,function(t,e){y(t,r),u.hasOwnProperty(e)&&u[e].push(t)}):m(t)&&(y(t,r),u.post.push(t))}},ut.prototype={deliverChangeRecords:function(){var t,e,u,r,i,n,s=Object.keys(this.watchers);for(t=0,e=s.length;e>t;t++)u=s[t],r=A(this.object,u),i=this.watchers[u],n=i.oldValue,E(r)?c(r,n)||this.fire(u):r!=n&&this.fire(u),i.oldValue=f(r)},watch:function(t,e){var u,r;this.watchers.hasOwnProperty(t)?u=this.watchers[t]:this.watchers[t]=u={path:t,oldValue:void 0,listeners:[]},r=u.listeners,r.push(e)},fire:function(t){var e,u,r=this.watchers[t],i=r.listeners;for(e=0,u=i.length;u>e;e++)i[e](A(this.object,r.path),r.oldValue);return this}},rt.prototype={constructor:rt,parse:function(t){return this.astCompiler.compile(t)}},it.prototype={getTranscludeCallback:function(t){var e=this,u=this.slots,r=this.registry,i=this.compileOptions;return function(n,s,o){m(n)&&(s=n,n=t.clone());var a=F(o)?u[o]:e.clone,h=a.cloneNode(1),c=new U(h,r,i);s(h),c.execute(n)}}}}(t),function(){"use strict";function e(t,e,r){t.prototype=Object.create(e.prototype),u(r)&&s(t.prototype,r)}function u(t){return null!==t&&"object"==typeof t}function r(t){return Array.prototype.slice.apply(t)}function i(t){return n(t)===!1}function n(t){return"undefined"==typeof t}function s(t){u(t)||(t={});var e,n,s,o,a,h,c,D=r(arguments).slice(1).filter(i),l=D.length;for(h=0;l>h;h++)if((e=D[h])&&u(e))for(s=Object.keys(e),a=s.length,c=0;a>c;c++)o=s[c],n=e[o],t[o]=n;return t}function u(t){return null!==t&&"object"==typeof t}function o(t,e){router.Router.call(this,e);var u,r=this;this.location=t,this.location.on("locationChangeStart",function(t){(u=r.parse(t))&&r.prepare(u)}).on("locationChangeSuccess",function(){r.commit()})}Array.isArray||function(t){return u(t)&&t instanceof Array==!0},t.eventemitter.EventEmitter;e(o,router.Router,{constructor:o,prepare:function(t){var e=this.current;return this.preparedRoute=t,this.emit("routeChangeStart",t,e)?!0:!1},commit:function(){this.current=this.preparedRoute,this.emit("routeChangeSuccess")}});var a=t.$location,h=new a.Browser(t),c=new a.Location(h);renderer.router=new o(c),s(renderer.router,{browser:h,location:c,Router:o});var D=renderer.bootstrap;renderer.bootstrap=function(t){D(t);var e=renderer.router.location,u=renderer.router.parse(e.path());renderer.router.prepare(u),renderer.router.commit()},renderer.register("ndView",function(){return{restrict:"A",terminal:!0,priority:400,transclude:"element",compile:function(t){function e(t,e,u,r,i){function n(){var u=renderer.router.current;a&&((s=a.parentNode)&&s.removeChild(a),a=null),u&&(o=t.clone(),i(o,function(t){s=e.parentNode,u.hasOwnProperty("templateUrl")&&renderer.templateCache(u.templateUrl)&&(u.template=renderer.templateCache(u.templateUrl),delete u.templateUrl),s&&s[e.nextSibling?"insertBefore":"appendChild"](t,e.nextSibling),a=t}))}renderer.router.on("routeChangeSuccess",function(){t.apply(n)}),n();var s,o,a}return e}}}),renderer.register("ndView",function(){return{restrict:"A",priority:-400,link:function(t,e){e.innerHTML=renderer.router.current.template,renderer.compile(e.childNodes)(t)}}})}(),!function(){function e(t){return function(){return t}}function u(t,e,u){
var r;if(d(t))for(i=0,r=t.length;r>i;i++)e.call(u,t[i],i,t);else{var i,n,s,o=Object.keys(t),a=o.length;for(i=0;a>i;i++)n=o[i],s=t[n],e.call(u,s,n,t)}return t}function r(t){return"function"==typeof t}function i(){return e()}function n(t){return null!==t&&"object"==typeof t}function s(t){t||(t={});var e,u,r,i,s,h,c,D=o(arguments).slice(1).filter(a),l=D.length;for(h=0;l>h;h++)if((e=D[h])&&n(e))for(r=Object.keys(e),s=r.length,c=0;s>c;c++)i=r[c],u=e[i],t[i]=u;return t}function o(t){return Array.prototype.slice.apply(t)}function a(t){return h(t)===!1}function h(t){return"undefined"==typeof t}function c(t,e){var u,r,i,n=Object.keys(e),s=n.length;for(u=0;s>u;u++)r=n[u],i=e[r],t.hasOwnProperty(r)||(t[r]=i)}function D(t,e){return function(){return t.apply(e,arguments)}}function l(t){this.injector=t}function p(t){var e=new x(t,m);return function(t){return e.execute(t)}}function f(t,e){C[t]=e}var d=Array.isArray;l.prototype={$$get:function(t){return t+="Directive",this.injector.has(t)?this.injector.get(t):void 0}};var A=t.injector.Injector,C={},E={},F=new A(C,E),m=new l(F),g=renderer.bootstrap,y=renderer._registry;renderer._registry=m;var v=new moduleloader.ModuleLoader(F);E.compile=renderer.compile=p,renderer.module=function(t,e){var u=v.register.apply(v,arguments);return u.invoke||(u.invoke=function(t){return F.invoke(t)}),u},renderer.bootstrap=function(t,e){v.bootstrap(e),g(t)},renderer.injector=F,renderer.moduleLoader=v;var x=renderer.Compile,B={},b=moduleloader.Module;b.prototype.directive=renderer.register=function(t,o){var a=this,h=this&&this.service&&D(this.service,this)||f;return B.hasOwnProperty(t)||(B[t]=[],h(t+"Directive",function(){var o,h,D,l=[];return u(B[t],function(u,p){o=(a.invoke||renderer.injector.invoke)(u),h={},r(o)?h.compile=e(o):!o.compile&&o.link?h.compile=e(o.link):o.compile||o.link||(o.compile=i),n(o)&&s(h,o),c(h,{priority:0,index:p,name:t,restrict:"EA"}),c(h,{require:h.controller&&h.name}),D=s(h,{name:t}),l.push(D)}),l})),B[t].push(o),this};var w=Object.keys(y);w.forEach(function(t){var e=y[t];"$$get"===t||e.executed||e.directives.forEach(function(e){renderer.register(t,e)})}),t.moduleloader.ModuleLoader}(),renderer.module("nd.packages",[]),renderer.module("nd.packages").service("$location",function(){return renderer.router.location}),renderer.module("nd.packages").service("$route",function(){return t.renderer.router}),renderer.module("nd.packages").service("$templateCache",function(){var e=t.renderer.templateCache;return{put:function(t,u){return e(t,u)&&this},get:function(t){return e(t)},has:function(t){return this.get(t)}}})}(window,window);